#!/usr/bin/env sh

 ######################
## Path Short Hand(s) ##
 ######################
# Shell root.
echo "shell_functions:"
cmdOut="$PWD"
echo "\$PWD: '$cmdOut'"
cmdOut="$(pwd)"
echo "pwd: '$cmdOut'"
cmdOut="$(ls -GApl)"
echo "ls -GApl: '$cmdOut'"
cmdOut="$HOME"
echo "\$HOME: '$cmdOut'"
#cmdOut="$BASH_SOURCE"
#echo "\$BASH_SOURCE: '$cmdOut'"
#cmdOut="${BASH_SOURCE%/*}"
#echo "\${BASH_SOURCE%/*}: '$cmdOut'"
#cmdOut="$(dirname '$BASH_SOURCE')"
#echo "\$(dirname '\$BASH_SOURCE'): '$cmdOut'"
#cmdOut="$(dirname '$BASH_SOURCE')"
#echo "\$(dirname '\${BASH_SOURCE%/*}'): '$cmdOut'"
cmdOut="$0"
echo "\$0: '$0'"
echo "dirname \"\$0\":"
dirname "$0"
echo "basename \"\$0\":"
basename "$0"
echo "readlink \"$0\":"
readlink "$0"

local target="$1"

if [ "$target" == "." ]; then
    echo "$(pwd)"
elif [ "$target" == ".." ]; then
    echo "$(dirname "$(pwd)")"
else
    echo "$(cd "$(dirname "$1")"; pwd)/$(basename "$1")"
fi


if [[ -d "$HOME/shell" ]]; then
	declare -x SHELL_ROOT=$HOME/shell
elif [[ -d "$0/shell" ]]; then
	export SHELL_ROOT=$0
elif [[ -d "$0/../shell" ]]; then
	export SHELL_ROOT=$0/../
elif [[ -d "$0/../../shell" ]]; then
	export SHELL_ROOT=$0/../../
elif [[ -d "$0/../../../shell" ]]; then
	export SHELL_ROOT=$0/../../../
elif [[ -d "$0/../../../../shell" ]]; then
	export SHELL_ROOT=$0/../../../../
fi
echo "\$SHELL_ROOT: '$SHELL_ROOT'"
cmdOut="$(readlink $SHELL_ROOT)"
echo "\$(readlink \$SHELL_ROOT): '$cmdOut'"
# Shell function(s) root.
declare -x SHELL_FUNCTIONS=$SHELL_ROOT/functions
# Shell function's constant(s).
declare -x SHELL_FUNCTIONS_CONSTANTS=$SHELL_FUNCTIONS/constants

 ###########################
## Global Function(s)/Data ##
 ###########################
## Data ##
# Includes variables relevant to all functions.
source $SHELL_FUNCTIONS/variablesGlobal.sh

## Function(s) ##
# Include output producing/formatting function(s) used by other function(s) in the same/child directories.
#   Note: If location/name of this file changes, update all other *.sh files in the same directory.
alias output=$SHELL_FUNCTIONS/output.sh
# Include shell option checking function used by other function(s) in the same/child directories.
alias checkRequiredOpts=$SHELL_FUNCTIONS/checkRequiredOpts.sh
# Include log function used by other function(s) in the same/child directories.
function log() {
	$SHELL_FUNCTIONS/log.sh "${@}"
}
export -f log
# Include function that backs up local home directory to "external" drive.
alias backUp=$SHELL_FUNCTIONS/backUp.sh

